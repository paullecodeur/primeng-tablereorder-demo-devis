<p-table [value]="products" [columns]="cols" [reorderableColumns]="true" (onRowReorder)= "onRowReorder($event)" (onRowReording)= "onRowReording($event)">
    <ng-template pTemplate="header" let-columns>
        <tr>
            <th style="width:3rem"></th>
            <th *ngFor="let col of columns" pReorderableColumn>
                {{col.header}}
            </th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-rowData let-columns="columns" let-index="rowIndex">
        <!-- *ngIf="rowData['visible']" -->
        <tr *ngIf="rowData['rowType'] == 'ligne'" [style.visibility]="rowData['visible'] ? 'visible' : 'hidden'"   [pReorderableRow]="index"  (dragstart)="dragStart(rowData)" (dragend)="dragEnd(rowData)"  (drop)="onDrop($event, rowData, index);false" >
            <td>
                <span class="pi pi-bars" pReorderableRowHandle></span>
            </td>
            <!-- <td *ngFor="let col of columns">
                {{rowData[col.field]}}
            </td> -->
            <!-- <td>
              {{rowData['number']}}
            </td> -->

            <td pEditableColumn>
            <p-cellEditor>
             <ng-template pTemplate="input">
               <input pInputText type="text" [(ngModel)]="rowData['name']" required>
             </ng-template>
             <ng-template pTemplate="output">
             {{rowData['number']}} {{rowData['name']}}
             </ng-template>
            </p-cellEditor>
            </td>
            
            <td>
              {{rowData['id']}}
            </td>
            <td>
              {{rowData['code']}}
            </td>
            

             <td pEditableColumn>
             <p-cellEditor>
             <ng-template pTemplate="input">
              <p-dropdown [options]="statuses" [(ngModel)]="rowData['rowType']" [style]="{'width':'100%'}"></p-dropdown>
             </ng-template>
             <ng-template pTemplate="output">
              {{rowData['rowType']}}
             </ng-template>
            </p-cellEditor>
            </td>
        </tr>

        <tr *ngIf="rowData['rowType'] == 'section'" [style.visibility]="rowData['visible'] ? 'visible' : 'hidden'"   [pReorderableRow]="index"  (dragstart)="dragStart(rowData)" (dragend)="dragEnd(rowData)"  (drop)="onDrop($event, rowData, index);false" >
         <td> 
            <span class="pi pi-bars" pReorderableRowHandle></span>
         </td>
        <!--  <td>
           {{rowData['number']}}
         </td> -->

         <td pEditableColumn colspan="3"> 
         <p-cellEditor>
         <ng-template pTemplate="input">
           <input pInputText type="text" [(ngModel)]="rowData['name']" required>
         </ng-template>
         <ng-template pTemplate="output">
         {{rowData['number']}} {{rowData['name']}}
         </ng-template>
         </p-cellEditor>
         </td>

         <td> 
           {{rowData['quantity']}}
         </td>

        </tr>
    </ng-template>
</p-table>